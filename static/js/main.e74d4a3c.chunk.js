(this.webpackJsonpmanofacturer=this.webpackJsonpmanofacturer||[]).push([[0],{117:function(e,t,n){},149:function(e,t,n){},187:function(e,t,n){},215:function(e,t,n){},272:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(29),s=n.n(r),i=(n(187),n(4)),l=n(28),o=n(27),d=n(351),j=n(354),u=n(7),b=n.n(u),h=n(17),O=n(26),m=n.n(O),p=function(){return"bearer ".concat(localStorage.getItem("token"))},x=function(){var e=Object(h.a)(b.a.mark((function e(t,n,c){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"POST",url:"https://hidden-everglades-54198.herokuapp.com/products/",headers:{"Content-Type":"application/json",Authorization:p()},data:t},e.next=3,m.a.request(a).then(n).catch(c);case 3:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}(),f=function(){var e=Object(h.a)(b.a.mark((function e(t,n){var c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={method:"GET",url:"https://hidden-everglades-54198.herokuapp.com/products/",headers:{"Content-Type":"application/json",Authorization:p()}},e.next=3,m.a.request(c).then(t).catch(n);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),v=function(){var e=Object(h.a)(b.a.mark((function e(t,n,c){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"GET",url:"https://hidden-everglades-54198.herokuapp.com/products/".concat(t,"/"),headers:{"Content-Type":"application/json",Authorization:p()}},e.next=3,m.a.request(a).then(n).catch(c);case 3:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}(),N=function(){var e=Object(h.a)(b.a.mark((function e(t,n,c){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"GET",url:"https://hidden-everglades-54198.herokuapp.com/products/d/".concat(t,"/"),headers:{"Content-Type":"application/json",Authorization:p()}},e.next=3,m.a.request(a).then(n).catch(c);case 3:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}(),g=function(){var e=Object(h.a)(b.a.mark((function e(t,n,c){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"GET",url:"https://hidden-everglades-54198.herokuapp.com/products/s/".concat(t,"/"),headers:{"Content-Type":"application/json",Authorization:p()}},e.next=3,m.a.request(a).then(n).catch(c);case 3:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}(),C=function(){var e=Object(h.a)(b.a.mark((function e(t,n,c,a){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={method:"PATCH",url:"https://hidden-everglades-54198.herokuapp.com/products/upd/".concat(t,"/"),headers:{"Content-Type":"application/json",Authorization:p()},data:n},e.next=3,m.a.request(r).then(c).catch(a);case 3:case"end":return e.stop()}}),e)})));return function(t,n,c,a){return e.apply(this,arguments)}}(),y=function(){var e=Object(h.a)(b.a.mark((function e(t,n,c){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"DELETE",url:"https://hidden-everglades-54198.herokuapp.com/products/".concat(t),headers:{"Content-Type":"application/json",Authorization:p()}},e.next=3,m.a.request(a).then(n).catch(c);case 3:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}(),S=function(){var e=Object(h.a)(b.a.mark((function e(t,n,c){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"POST",url:"https://hidden-everglades-54198.herokuapp.com/users/",headers:{"Content-Type":"application/json",Authorization:p()},data:t},e.next=3,m.a.request(a).then(n).catch(c);case 3:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}(),_=function(){var e=Object(h.a)(b.a.mark((function e(t,n){var c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={method:"GET",url:"https://hidden-everglades-54198.herokuapp.com/users/",headers:{"Content-Type":"application/json",Authorization:p()}},e.next=3,m.a.request(c).then(t).catch(n);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),w=function(){var e=Object(h.a)(b.a.mark((function e(t,n,c,a){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={method:"PATCH",url:"https://hidden-everglades-54198.herokuapp.com/users/upd/".concat(t,"/"),headers:{"Content-Type":"application/json",Authorization:p()},data:n},e.next=3,m.a.request(r).then(c).catch(a);case 3:case"end":return e.stop()}}),e)})));return function(t,n,c,a){return e.apply(this,arguments)}}(),k=function(){var e=Object(h.a)(b.a.mark((function e(t,n,c){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"GET",url:"https://hidden-everglades-54198.herokuapp.com/users/r/".concat(t,"/"),headers:{"Content-Type":"application/json",Authorization:p()}},e.next=3,m.a.request(a).then(n).catch(c);case 3:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}(),D=function(){var e=Object(h.a)(b.a.mark((function e(t,n,c){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"GET",url:"https://hidden-everglades-54198.herokuapp.com/users/e/".concat(t,"/"),headers:{"Content-Type":"application/json",Authorization:p()}},e.next=3,m.a.request(a).then(n).catch(c);case 3:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}(),E=function(){var e=Object(h.a)(b.a.mark((function e(t,n,c){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"DELETE",url:"https://hidden-everglades-54198.herokuapp.com/users/".concat(t),headers:{"Content-Type":"application/json",Authorization:p()}},e.next=3,m.a.request(a).then(n).catch(c);case 3:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}(),T=function(){var e=Object(h.a)(b.a.mark((function e(t,n){var c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={method:"GET",url:"https://hidden-everglades-54198.herokuapp.com/orders/",headers:{"Content-Type":"application/json",Authorization:p()}},e.next=3,m.a.request(c).then(t).catch(n);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),I=function(){var e=Object(h.a)(b.a.mark((function e(t,n,c){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"GET",url:"https://hidden-everglades-54198.herokuapp.com/orders/".concat(t,"/"),headers:{"Content-Type":"application/json",Authorization:p()}},e.next=3,m.a.request(a).then(n).catch(c);case 3:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}(),G=function(){var e=Object(h.a)(b.a.mark((function e(t,n,c){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"GET",url:"https://hidden-everglades-54198.herokuapp.com/orders/idclient/".concat(t,"/"),headers:{"Content-Type":"application/json",Authorization:p()}},e.next=3,m.a.request(a).then(n).catch(c);case 3:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}(),A=function(){var e=Object(h.a)(b.a.mark((function e(t,n,c){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"GET",url:"https://hidden-everglades-54198.herokuapp.com/orders/clientname/".concat(t,"/"),headers:{"Content-Type":"application/json",Authorization:p()}},e.next=3,m.a.request(a).then(n).catch(c);case 3:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}(),B=function(){var e=Object(h.a)(b.a.mark((function e(t,n,c){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"DELETE",url:"https://hidden-everglades-54198.herokuapp.com/orders/".concat(t),headers:{"Content-Type":"application/json",Authorization:p()}},e.next=3,m.a.request(a).then(n).catch(c);case 3:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}(),L=function(){var e=Object(h.a)(b.a.mark((function e(t,n){var c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={method:"GET",url:"https://hidden-everglades-54198.herokuapp.com/clients/",headers:{"Content-Type":"application/json",Authorization:p()}},e.next=3,m.a.request(c).then(t).catch(n);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),R=function(){var e=Object(h.a)(b.a.mark((function e(t,n,c){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"POST",url:"https://hidden-everglades-54198.herokuapp.com/clients/",headers:{"Content-Type":"application/json",Authorization:p()},data:t},e.next=3,m.a.request(a).then(n).catch(c);case 3:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}(),P=function(){var e=Object(h.a)(b.a.mark((function e(t,n,c){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"POST",url:"https://hidden-everglades-54198.herokuapp.com/orders/",headers:{"Content-Type":"application/json",Authorization:p()},data:t},e.next=3,m.a.request(a).then(n).catch(c);case 3:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}(),V=function(){var e=Object(h.a)(b.a.mark((function e(t,n,c,a){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={method:"PUT",url:"https://hidden-everglades-54198.herokuapp.com/orders/upd/".concat(t,"/"),headers:{"Content-Type":"application/json",Authorization:p()},data:n},e.next=3,m.a.request(r).then(c).catch(a);case 3:case"end":return e.stop()}}),e)})));return function(t,n,c,a){return e.apply(this,arguments)}}(),U=n(19),q=n(348),F=n(347),z=n(46),$=n(0),M=function(e){e.setEditOrderMode;var t=Object(c.useState)(""),n=Object(i.a)(t,2),a=n[0],r=n[1],s=Object(c.useState)([]),l=Object(i.a)(s,2),o=l[0],d=l[1],j=Object(c.useState)(!0),u=Object(i.a)(j,2),O=u[0],m=u[1],p=Object(c.useState)([]),x=Object(i.a)(p,2),f=x[0],v=x[1];Object(c.useEffect)((function(){var e=function(){var e=Object(h.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_((function(e){v(e.data),m(!1)}),(function(e){console.error("Salio un error:",e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();O&&e()}),[O]),Object(c.useEffect)((function(){d(f.filter((function(e){return JSON.stringify(e).toLowerCase().includes(a.toLowerCase())})))}),[a,f]);var N=function(e){var t=e.user,n=Object(c.useState)(!1),a=Object(i.a)(n,2),r=a[0],s=a[1],l=Object(c.useState)(t.state),o=Object(i.a)(l,2),d=o[0],j=o[1],u=Object(c.useState)(t.role),O=Object(i.a)(u,2),p=O[0],x=O[1],f=Object(c.useState)(!1),v=Object(i.a)(f,2),N=v[0],g=v[1],C=Object(c.useState)(!1),y=Object(i.a)(C,2),S=y[0],_=y[1],k=function(){var e=Object(h.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!1),e.next=3,w(t._id,{role:p,state:d},(function(e){U.c.success("Usuario actualizado con \xe9xito")}),(function(e){console.error(e),U.c.error("Error actualizando usuario")}));case 3:s(!1),m(!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(h.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(!1),e.next=3,E(t._id,(function(e){U.c.success("usuario eliminado con \xe9xito")}),(function(e){console.error(e),U.c.error("Error eliminando el usuario")}));case 3:m(!0);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object($.jsxs)("tr",{className:"datarow",children:[r?Object($.jsxs)($.Fragment,{children:[Object($.jsx)("td",{className:"smallLargeTDname",children:Object($.jsx)("label",{children:t.name})}),Object($.jsx)("td",{className:"smallLargeTDname",children:Object($.jsx)("label",{children:t.email})}),Object($.jsx)("td",{className:"smallLargeTD ",children:Object($.jsxs)("select",{className:"selectStatus",defaultValue:t.role,required:!0,onChange:function(e){return x(e.target.value)},children:[Object($.jsx)("option",{value:"",disabled:!0,children:"Selecciona"}),Object($.jsx)("option",{className:"aproved",value:"administrador",children:"Administrador"}),Object($.jsx)("option",{className:"aproved",value:"vendedor",children:"Vendedor"}),Object($.jsx)("option",{className:"aproved",value:"no_asignado",children:"No_asignado"})]})}),Object($.jsx)("td",{className:"smallLargeTD ",children:Object($.jsxs)("select",{className:"selectStatus",defaultValue:t.state,required:!0,onChange:function(e){return j(e.target.value)},children:[Object($.jsx)("option",{value:"",disabled:!0,children:"Selecciona"}),Object($.jsx)("option",{className:"aproved",value:"Aprobado",children:"Aprobado"}),Object($.jsx)("option",{className:"denied",value:"No aprobado",children:"No aprobado"}),Object($.jsx)("option",{className:"denied",value:"Pendiente",children:"Pendiente"})]})})]}):Object($.jsxs)($.Fragment,{children:[Object($.jsx)("td",{className:"mediumTD",children:t.name}),Object($.jsx)("td",{className:"smallTD",children:t.email}),Object($.jsx)("td",{className:"smallLargeTD ",children:t.role}),Object($.jsx)("td",{className:"smallLargeTD ",children:t.state})]}),Object($.jsx)("td",{className:"smallTD",children:Object($.jsxs)("div",{className:"editBtnContainer",children:[r?Object($.jsxs)($.Fragment,{children:[Object($.jsx)(q.a,{title:"GUARDAR",arrow:!0,placement:"left",children:Object($.jsxs)("button",{type:"submit",className:"btnGeneral btnEdit",onClick:function(){return g(!0)},children:[Object($.jsx)("i",{className:"fas fa-user-check"})," "]})}),Object($.jsx)(q.a,{title:"Cancelar",arrow:!0,placement:"right",children:Object($.jsxs)("button",{type:"reset",className:"btnGeneral btnDelete",onClick:function(){return s(!r)},children:["  ",Object($.jsx)("i",{class:"fas fa-ban"})]})})]}):Object($.jsxs)($.Fragment,{children:[Object($.jsx)(q.a,{title:"Editar",arrow:!0,placement:"left",children:Object($.jsxs)("button",{type:"button",className:"btnGeneral btnEdit",onClick:function(){return s(!r)},children:[" ",Object($.jsx)("i",{class:"fas fa-user-cog"})]})}),Object($.jsx)(q.a,{title:"Eliminar",arrow:!0,placement:"bottom",children:Object($.jsxs)("button",{type:"reset",className:"btnGeneral btnDelete",onClick:function(){return _(!0)},children:["  ",Object($.jsx)("i",{class:"fas fa-user-minus"})]})})]}),Object($.jsx)(F.a,{open:N,children:Object($.jsxs)("div",{className:"dialogUpdate",children:[Object($.jsx)("h5",{children:"Actualizaci\xf3n del usuario:"}),Object($.jsxs)("div",{className:"infoUpdateDiv",children:[Object($.jsxs)("p",{align:"center",children:[" Nombre: ",t.name,"      --    Role: ",p]}),Object($.jsxs)("p",{className:"pLarge",align:"center",children:["State: ",d]})]}),Object($.jsxs)("div",{className:"editBtnContainer2",children:[Object($.jsx)("button",{type:"button",className:"btnGeneral btnEdit",onClick:function(){return k()},children:"Si"}),Object($.jsx)("button",{type:"reset",className:"btnGeneral btnDelete",onClick:function(){return g(!1)},children:"No"})]})]})}),Object($.jsx)(F.a,{open:S,children:Object($.jsxs)("div",{className:"dialogDelete",children:[Object($.jsx)("h5",{children:"\xbfEst\xe1 seguro de eliminar este producto?"}),Object($.jsxs)("p",{align:"center",children:["Rol: ",t.role,"  "]}),Object($.jsxs)("p",{className:"pLarge",align:"center",children:[" ",t.name,"  "]}),Object($.jsxs)("div",{className:"editBtnContainer2",children:[Object($.jsx)("button",{type:"button",className:"btnGeneral btnEdit",onClick:function(){return D()},children:"Si"}),Object($.jsx)("button",{type:"reset",className:"btnGeneral btnDelete",onClick:function(){return _(!1)},children:"No"})]})]})})]})})]})};return Object($.jsxs)($.Fragment,{children:[Object($.jsx)(U.a,{rtl:!0,position:"top-center",autoClose:2e3,transition:U.b,limit:1}),Object($.jsxs)("div",{className:"searchContainerUser",children:[Object($.jsx)("label",{children:"Buscar Usuario por "}),Object($.jsx)("input",{type:"text",className:"toSearchInput",placeholder:"Buscar",value:a,onChange:function(e){return r(e.target.value)}})]}),Object($.jsx)("div",{className:"listSectionContainer divUsuariosList",children:Object($.jsxs)("table",{className:"ListTable",children:[Object($.jsx)("thead",{className:"thead",children:Object($.jsxs)("tr",{children:[Object($.jsx)("th",{className:"col_title",children:"Nombre"}),Object($.jsx)("th",{className:"col_title",children:"Correo"}),Object($.jsx)("th",{className:"col_title",children:"Rol"}),Object($.jsx)("th",{className:"col_title",children:"Estado"}),Object($.jsx)("th",{className:"col-title col-last",children:"Modificar"})]})}),Object($.jsx)("tbody",{children:o.map((function(e){return Object($.jsx)(N,{user:e,setReload:m},Object(z.a)())}))})]})})]})},K=(n(117),n.p+"static/media/person_add_alt_white_48dp.c31a2851.svg"),J=function(){var e=Object(c.useRef)(null);return Object($.jsxs)("div",{className:"MainSection",children:[Object($.jsx)("h3",{align:"center",className:" addNewSubt marg-l",children:" Nuevo Usuario"}),Object($.jsx)("div",{className:"newOrderContainer",children:Object($.jsxs)("form",{id:"formAddUser",ref:e,onSubmit:function(t){t.preventDefault();var n=new FormData(e.current),c={};n.forEach((function(e,t){c[t]=e})),S({name:c.name,email:c.email.toLowerCase(),role:c.role,state:c.state,nickname:c.name,picture:"",created_at:""+new Date},(function(e){U.c.success("user was created SUCCESSFULLY"),document.getElementById("formAddUser").reset()}),(function(e){console.error(e),U.c.error("Create user ERROR")}))},children:[Object($.jsxs)("ul",{className:"ulProduct",children:[Object($.jsxs)("li",{children:[Object($.jsx)("label",{children:" Nombre"}),Object($.jsx)("input",{name:"name",className:"inputChange mediumTD",type:"text",required:!0,placeholder:"Nombre"})]}),Object($.jsxs)("li",{children:[Object($.jsx)("label",{children:" Correo Electr\xf3nico"}),Object($.jsx)("input",{name:"email",className:"inputChange smallLargeTD",autoComplete:"email",required:!0,placeholder:"Correo electr\xf3nico"})]}),Object($.jsxs)("li",{className:"addDataRoleContainer",children:[Object($.jsx)("label",{children:" Rol "}),Object($.jsxs)("select",{name:"role",className:"selectRole",children:[Object($.jsx)("option",{className:"sellerRole",value:"vendedor",children:"Vendedor"}),Object($.jsx)("option",{className:"adminRole",value:"administrador",children:"Administrador"}),Object($.jsx)("option",{className:"sellerRole",value:"no_asignado",children:"No_asignado"})]})]}),Object($.jsxs)("li",{children:[Object($.jsx)("label",{children:" Estado "}),Object($.jsxs)("select",{name:"state",className:"selectStatus",children:[Object($.jsx)("option",{className:"aproved",value:"Aprobado",children:"Aprobado"}),Object($.jsx)("option",{className:"denied",value:"No aprobado",children:"No Aprobado"}),Object($.jsx)("option",{className:"pending",value:"Pendiente",children:"Pendiente"})]})]})]}),Object($.jsxs)("div",{className:"btnOptionsContainer",children:[Object($.jsxs)("button",{type:"submit",className:"btnGeneral btnCreateUser",children:[" ",Object($.jsx)("img",{className:"btnIcon",src:K,alt:"img"})," Crear Usuario"]}),Object($.jsx)("button",{type:"reset",className:"btnGeneral btnCancel",children:"Cancelar"})]})]})}),Object($.jsx)(U.a,{rtl:!0,position:"top-center",autoClose:2e3,transition:U.b,limit:1})]})};function W(e){var t=e.value;return Object($.jsxs)("div",{children:[0===t&&Object($.jsx)($.Fragment,{children:Object($.jsx)(J,{})}),1===t&&Object($.jsx)($.Fragment,{children:Object($.jsx)(M,{})})]})}var H=function(){var e=Object(c.useState)(0),t=Object(i.a)(e,2),n=t[0],a=t[1];return Object($.jsxs)($.Fragment,{children:[Object($.jsx)("div",{className:"titlepage",children:Object($.jsx)("span",{className:"title",children:" Usuarios"})}),Object($.jsx)("div",{className:"tabscontainer",children:Object($.jsxs)(d.a,{value:n,onChange:function(e,t){a(t)},children:[Object($.jsx)(j.a,{label:"Agregar Usuario"}),Object($.jsx)(j.a,{label:"Ver Lista de Usuarios"})]})}),Object($.jsx)(W,{value:n,index:0,children:" item1"})]})},Y=(n(214),function(){var e=Object(c.useRef)(null),t=function(){var t=Object(h.a)(b.a.mark((function t(n){var c,a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),c=new FormData(e.current),a={},c.forEach((function(e,t){a[t]=e})),t.next=6,x({id:a.id,description:a.description.toLowerCase(),unitprice:a.unitprice,state:a.state},(function(e){U.c.success("Producto agregado con \xe9xito"),document.getElementById("formCreateProduct").reset()}),(function(e){console.error(e),U.c.error("Error creando un producto")}));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object($.jsxs)("div",{className:"MainSection",children:[Object($.jsx)("h2",{align:"center",className:" addNewSubt marg-l",children:"Nuevo Producto "}),Object($.jsx)("div",{className:"newOrderContainer",children:Object($.jsxs)("form",{id:"formCreateProduct",ref:e,onSubmit:t,children:[Object($.jsxs)("ul",{className:"ulProduct",children:[Object($.jsxs)("li",{children:[Object($.jsx)("label",{children:"ID Producto"}),Object($.jsx)("input",{name:"id",className:"inputChange inputNumber ",type:"number",min:"1",placeholder:"ID",required:!0})]}),Object($.jsxs)("li",{children:[Object($.jsx)("label",{children:"Precio Unitario"}),Object($.jsx)("input",{name:"unitprice",type:"number",min:"1",className:"inputChange inputValue",placeholder:"$",required:!0})]}),Object($.jsxs)("li",{children:[Object($.jsx)("label",{children:"Estado Producto"}),Object($.jsxs)("select",{name:"state",id:"selectorState",className:"selectStatus",required:!0,children:[Object($.jsx)("option",{value:"",disabled:!0,children:"Selecciona"}),Object($.jsx)("option",{className:"aproved",value:"Disponible",children:"Disponible"}),Object($.jsx)("option",{className:"denied",value:"No disponible",children:"No disponible"})]})]}),Object($.jsxs)("li",{children:[Object($.jsx)("label",{children:"Descripci\xf3n"}),Object($.jsx)("input",{name:"description",type:"text",className:"inputChange inputLarge",placeholder:"Descripci\xf3n producto",required:!0,maxLength:"200"})]})]}),Object($.jsxs)("div",{className:"btnDiv",children:[Object($.jsxs)("button",{type:"submit",className:"btnGeneral btnCreateProduct",children:[Object($.jsx)("i",{class:"far fa-check-circle"}),"A\xf1adir Producto"]}),Object($.jsx)("button",{type:"reset",className:"btnGeneral btnCancel",children:"Cancelar"})]})]})}),Object($.jsx)(U.a,{rtl:!0,position:"top-center",autoClose:2e3,transition:U.b,limit:1})]})}),Z=function(){var e=function(e){var t=e.product,n=e.setReload,a=Object(c.useState)(!1),r=Object(i.a)(a,2),s=r[0],l=r[1],o=Object(c.useState)(t.state),d=Object(i.a)(o,2),j=d[0],u=d[1],O=Object(c.useState)(t.unitprice),m=Object(i.a)(O,2),p=m[0],x=m[1],f=Object(c.useState)(t.description),v=Object(i.a)(f,2),N=v[0],g=v[1],S=Object(c.useState)(!1),_=Object(i.a)(S,2),w=_[0],k=_[1],D=Object(c.useState)(!1),E=Object(i.a)(D,2),T=E[0],I=E[1],G=function(){var e=Object(h.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(!1),e.next=3,C(t._id,{description:N.toLowerCase(),unitprice:p,state:j},(function(e){U.c.success("Producto modificado con \xe9xito")}),(function(e){console.error(e),U.c.error("Error modificando un producto")}));case 3:l(!1),n(!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(h.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(!1),e.next=3,y(t._id,(function(e){U.c.success("producto eliminado con \xe9xito")}),(function(e){console.error(e),U.c.error("Error eliminando el producto")}));case 3:n(!0);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object($.jsxs)("tr",{className:"datarow",children:[s?Object($.jsxs)($.Fragment,{children:[Object($.jsx)("td",{className:"numberTD",children:Object($.jsx)("label",{children:t.id})}),Object($.jsx)("td",{className:"descripTD",children:Object($.jsx)("input",{className:"inputChange inputMedium ",type:"text",maxlength:"200",defaultValue:t.description,onChange:function(e){g(e.target.value)}})}),Object($.jsx)("td",{className:"smallTD",children:Object($.jsx)("input",{className:"inputChange inputValue",type:"number",min:"0",defaultValue:t.unitprice,onChange:function(e){return x(e.target.value)}})}),Object($.jsx)("td",{className:"smallLargeTD ",children:Object($.jsxs)("select",{className:"selectStatus",defaultValue:t.state,required:!0,onChange:function(e){return u(e.target.value)},children:[Object($.jsx)("option",{value:"",disabled:!0,children:"Selecciona"}),Object($.jsx)("option",{className:"aproved",value:"Disponible",children:"Disponible"}),Object($.jsx)("option",{className:"denied",value:"No disponible",children:"No disponible"})]})})]}):Object($.jsxs)($.Fragment,{children:[Object($.jsx)("td",{className:"numberTD",children:t.id}),Object($.jsx)("td",{className:"descripTD",children:Object($.jsx)("p",{className:"pRowLarge",children:t.description})}),Object($.jsxs)("td",{className:"smallTD",children:["$ ",t.unitprice]}),Object($.jsx)("td",{className:"smallTD ",children:t.state})]}),Object($.jsx)("td",{className:"smallTD",children:Object($.jsxs)("div",{className:"editBtnContainer",children:[s?Object($.jsxs)($.Fragment,{children:[Object($.jsx)(q.a,{title:"GUARDAR",arrow:!0,placement:"left",children:Object($.jsxs)("button",{type:"submit",className:"btnGeneral btnEdit",onClick:function(){return I(!0)},children:[Object($.jsx)("i",{className:"fas fa-save"}),"  "]})}),Object($.jsx)(q.a,{title:"Cancelar",arrow:!0,placement:"right",children:Object($.jsxs)("button",{type:"reset",className:"btnGeneral btnDelete",onClick:function(){return l(!s)},children:["  ",Object($.jsx)("i",{className:"fas fa-ban"})]})})]}):Object($.jsxs)($.Fragment,{children:[Object($.jsx)(q.a,{title:"Editar",arrow:!0,placement:"left",children:Object($.jsxs)("button",{type:"button",className:"btnGeneral btnEdit",onClick:function(){return l(!s)},children:[" ",Object($.jsx)("i",{className:"fas fa-edit"})," "]})}),Object($.jsx)(q.a,{title:"Eliminar",arrow:!0,placement:"right",children:Object($.jsxs)("button",{type:"reset",className:"btnGeneral btnDelete",onClick:function(){return k(!0)},children:["  ",Object($.jsx)("i",{className:"fas fa-trash-alt"})]})})]}),Object($.jsx)(F.a,{open:T,children:Object($.jsxs)("div",{className:"dialogUpdate",children:[Object($.jsx)("h5",{children:"Actualizaci\xf3n del producto:"}),Object($.jsxs)("div",{className:"infoUpdateDiv",children:[Object($.jsxs)("p",{align:"center",children:[" ID: ",t.id,"      --    Estado: ",j]}),Object($.jsxs)("p",{className:"pLarge",align:"center",children:["Descripci\xf3n: ",N]}),Object($.jsxs)("p",{align:"center",children:[" Precio Unitario: $ ",p,"   "]})]}),Object($.jsxs)("div",{className:"editBtnContainer2",children:[Object($.jsx)("button",{type:"button",className:"btnGeneral btnEdit",onClick:function(){return G()},children:"Si"}),Object($.jsx)("button",{type:"reset",className:"btnGeneral btnDelete",onClick:function(){return I(!1)},children:"No"})]})]})}),Object($.jsx)(F.a,{open:w,children:Object($.jsxs)("div",{className:"dialogDelete",children:[Object($.jsx)("h5",{children:"\xbfEst\xe1 seguro de eliminar este producto?"}),Object($.jsxs)("p",{align:"center",children:["Id: ",t.id,"  "]}),Object($.jsxs)("p",{className:"pLarge",align:"center",children:[" ",t.description,"  "]}),Object($.jsxs)("div",{className:"editBtnContainer2",children:[Object($.jsx)("button",{type:"button",className:"btnGeneral btnEdit",onClick:function(){return A()},children:"Si"}),Object($.jsx)("button",{type:"reset",className:"btnGeneral btnDelete",onClick:function(){return k(!1)},children:"No"})]})]})})]})})]})},t=Object(c.useState)(!1),n=Object(i.a)(t,2),a=n[0],r=n[1];Object(c.useEffect)(Object(h.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f((function(e){var t=e.data.reverse();j(t)}),(function(e){console.error("Salio un error:",e)}));case 2:r(!1);case 3:case"end":return e.stop()}}),e)}))),[a]);var s=Object(c.useRef)(null),l=Object(c.useState)([]),o=Object(i.a)(l,2),d=o[0],j=o[1],u=function(){var e=Object(h.a)(b.a.mark((function e(t){var n,c,a,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=new FormData(s.current),c={},n.forEach((function(e,t){c[t]=e})),a=c.searchSelect,r=c.toSearchInput,"searchbyid"!=a){e.next=15;break}if(Number(r)){e.next=11;break}U.c.error("digite un ID num\xe9rico",{position:"bottom-center"}),e.next=13;break;case 11:return e.next=13,v(r,(function(e){j(e.data)}),(function(e){console.error("Salio un error:",e)}));case 13:e.next=18;break;case 15:if("searchbyDescrip"!=a){e.next=18;break}return e.next=18,N(r,(function(e){j(e.data)}),(function(e){console.error("Salio un error:",e)}));case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object($.jsxs)($.Fragment,{children:[Object($.jsxs)("div",{className:"searchContainer  marg-l",children:[Object($.jsxs)("form",{ref:s,onSubmit:u,children:[Object($.jsx)("span",{children:"Buscar producto  por "}),Object($.jsxs)("select",{name:"searchSelect",className:"selectRole",required:!0,children:[Object($.jsx)("option",{value:"",disabled:!0,children:" Buscar por"}),Object($.jsx)("option",{value:"searchbyid",children:"ID Producto"}),Object($.jsx)("option",{value:"searchbyDescrip",children:"Descripci\xf3n"})]}),Object($.jsx)("input",{type:"text",className:"toSearchInput",name:"toSearchInput",placeholder:"Digita la info",required:!0}),Object($.jsxs)("button",{type:"submit",className:"btnGeneral btnSearchUser marg-l",children:[Object($.jsx)("i",{className:"fas fa-search-plus"}),"Buscar"]})]}),Object($.jsxs)($.Fragment,{children:[Object($.jsxs)("button",{className:"btnGeneral btnBack",onClick:function(){return r(!0)},children:[Object($.jsx)("i",{className:"fas fa-undo-alt"}),"Volver a tabla"]})," "]})]}),Object($.jsxs)("div",{className:"listSectionContainer divProducts",children:[Object($.jsxs)("table",{className:"ListTable",children:[Object($.jsx)("thead",{className:"thead ",children:Object($.jsxs)("tr",{children:[Object($.jsx)("th",{className:"col_title ",children:"ID Producto"}),Object($.jsx)("th",{className:"col_title",children:"Descripci\xf3n"}),Object($.jsx)("th",{className:"col_title ",children:"Precio Unitario"}),Object($.jsx)("th",{className:"col_title",children:"Estado"}),Object($.jsx)("th",{className:"col_title",children:"Editar"})]})}),Object($.jsx)("tbody",{children:d.map((function(t){return Object($.jsx)(e,{product:t,setReload:r},Object(z.a)())}))})]}),Object($.jsx)(U.a,{rtl:!0,position:"top-center",autoClose:2e3,transition:U.b,limit:1})]})]})};function Q(e){var t=e.value;return Object($.jsxs)("div",{children:[0==t&&Object($.jsx)($.Fragment,{children:Object($.jsx)(Y,{})}),1==t&&Object($.jsx)($.Fragment,{children:Object($.jsx)(Z,{})})]})}var X,ee=function(){var e=Object(c.useState)(0),t=Object(i.a)(e,2),n=t[0],a=t[1];return Object($.jsxs)($.Fragment,{children:[Object($.jsx)("div",{className:"titlepage",children:Object($.jsx)("span",{className:"title",children:"  Productos"})}),Object($.jsx)("div",{className:"tabscontainer",children:Object($.jsxs)(d.a,{value:n,onChange:function(e,t){a(t)},children:[Object($.jsx)(j.a,{label:"Agregar Producto"}),Object($.jsx)(j.a,{label:"Ver Lista de Productos"})]})}),Object($.jsx)(Q,{value:n,index:0,children:" item1"})]})},te=(n(149),n(215),n.p+"static/media/receipt_long_white_48dp.811a0679.svg"),ne=n.p+"static/media/inventory_white_48dp.ee8c3772.svg",ce=n.p+"static/media/exit_to_app_white_48dp.6dc49de9.svg",ae=n.p+"static/media/people_white_48dp.f452b2ac.svg",re=n.p+"static/media/home_white_48dp.7c7322fa.svg",se=n(65),ie=Object(c.createContext)(null),le=function(){return Object(c.useContext)(ie)},oe=function(e){var t=e.roleList,n=e.children,c=le().userData;return t.includes(c.role)?n:Object($.jsx)($.Fragment,{})},de=function(){var e=le().userData,t=Object(se.b)().logout;return Object($.jsxs)("div",{className:"sidebar",children:[Object($.jsxs)("div",{className:"logo-details",children:[Object($.jsx)(oe,{roleList:["administrador"],children:Object($.jsx)(l.b,{to:"/admin",children:Object($.jsx)("img",{src:re,className:"homeicon",alt:"img"})})}),Object($.jsx)(oe,{roleList:["vendedor"],children:Object($.jsx)(l.b,{to:"/vendedor",children:Object($.jsx)("img",{src:re,className:"homeicon",alt:"img"})})}),Object($.jsx)("div",{className:"logo_name",children:"Manufacturer"})]}),Object($.jsxs)("ul",{className:"nav-list",children:[Object($.jsx)(oe,{roleList:["administrador"],children:Object($.jsx)("li",{children:Object($.jsxs)(l.b,{to:"/admin/ventas",children:[Object($.jsx)("img",{className:"iconSidebar",src:te,id:"btnlistOrders",alt:"img"}),Object($.jsx)("span",{className:"links_name",children:"  VENTAS"})]})})}),Object($.jsx)(oe,{roleList:["administrador"],children:Object($.jsx)("li",{children:Object($.jsxs)(l.b,{to:"/admin/productos",children:[Object($.jsx)("img",{className:"iconSidebar",src:ne,id:"btnProducts",alt:"img"}),Object($.jsx)("span",{className:"links_name",children:"PRODUCTOS"})]})})}),Object($.jsx)(oe,{roleList:["administrador"],children:Object($.jsx)("li",{children:Object($.jsxs)(l.b,{to:"/admin/usuarios",children:[Object($.jsx)("img",{className:"iconSidebar",src:ae,id:"btnUsers",alt:"img"}),Object($.jsx)("span",{className:"links_name",children:"USUARIOS"})]})})}),Object($.jsx)(oe,{roleList:["vendedor"],children:Object($.jsx)("li",{children:Object($.jsxs)(l.b,{to:"/vendedor/ventas",children:[Object($.jsx)("img",{className:"iconSidebar",src:te,id:"btnlistOrders",alt:"img"}),Object($.jsx)("span",{className:"links_name",children:"  VENTAS"})]})})})]}),Object($.jsxs)("div",{className:"logoutsection",children:[Object($.jsxs)("div",{className:"infoUser",children:[Object($.jsxs)("div",{children:[" ",Object($.jsx)("img",{className:"iconImg",src:e.picture,id:"btnlistOrders",alt:"img"}),Object($.jsxs)("span",{className:"links_name",children:["Rol: ",e.role]})]}),Object($.jsxs)("span",{className:"links_name",children:["  ",e.name]})]}),Object($.jsxs)("button",{className:"btnGeneral btnEdit btnExit",onClick:function(){return t({returnTo:window.location.origin}),void localStorage.setItem("token",null)},children:[Object($.jsx)("img",{className:"iconSidebar",src:ce,id:"btnLogout",alt:"img"}),Object($.jsx)("span",{className:"links_name ",children:"Salir"})]})]})]})},je=n(72),ue=n(156),be=n.n(ue),he=n(40),Oe=(n.p,n(155)),me=function(e){var t=e.children,n=le().setUserData,a=Object(se.b)(),r=(a.user,a.isAuthenticated),s=a.isLoading,l=a.getAccessTokenSilently,o=a.loginWithRedirect,d=a.logout,j=Object(c.useState)(!1),u=Object(i.a)(j,2),O=u[0],m=u[1],p=Object(he.css)(X||(X=Object(je.a)(["display: block;  margin: 0 auto;  border-color: red;"])));return Object(c.useEffect)(Object(h.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=function(){var e=Object(h.a)(b.a.mark((function e(){var t,c,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l({audience:"api-manufacturer-projectvi"});case 2:return t=e.sent,m(!0),localStorage.setItem("token",t),c=t,a=Object(Oe.a)(c)["http://localhost/userData"],e.next=9,D(a.email,(function(e){null!=e.data?(n(e.data),m(!1)):S({name:a.name,email:a.email,role:"no_asignado",state:"Pendiente",nickname:a.nickname,picture:a.picture,created_at:a.created_at},(function(e){n(e.data),m(!1)}),(function(e){console.error(e),m(!1)}))}),(function(e){d({returnTo:"https://victoriaycode.github.io/frontend-manufacture/admin"}),console.error("Salio un error:",e),m(!1)}));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r&&t();case 2:case"end":return e.stop()}}),e)}))),[r,l]),s||O?Object($.jsxs)("div",{className:"spinerClass",children:[Object($.jsx)(be.a,{loading:s,css:p,size:150}),"..."]}):r?Object($.jsx)($.Fragment,{children:t}):o()},pe=function(e){var t=e.children;return Object($.jsx)(me,{children:Object($.jsxs)("div",{className:"adminLayoutContainer",children:[Object($.jsx)(de,{}),Object($.jsx)("main",{className:"mainPage",children:t})]})})},xe=n(157),fe=n.p+"static/media/done_outline_white_48dp.8cf4d29b.svg",ve=n.p+"static/media/backspace_black_48dp.1c5b2257.svg",Ne=n(158),ge=n.n(Ne),Ce=(n(229),function(e){var t=e.setSelectedDate,n=Object(c.useState)(new Date),a=Object(i.a)(n,2),r=a[0],s=a[1],l={weekday:"long",year:"numeric",month:"long",day:"numeric"};return Object(c.useEffect)((function(){var e=r.toLocaleDateString("es-US",l);t(e)}),[r]),Object($.jsx)(ge.a,{selected:r,onChange:function(e){return s(e)}})}),ye=n(90),Se=n(345),_e=n(355),we=n(349),ke=Object(_e.a)();function De(e){var t=e.listOptions,n=e.setOptionSelected,r=e.labelOf,s=a.a.useState(null),l=Object(i.a)(s,2),o=l[0],d=l[1],j=Object(c.useState)(!1),u=Object(i.a)(j,2),O=(u[0],u[1]);return Object(c.useEffect)(Object(h.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null!=o&&n(o),O(!1);case 2:case"end":return e.stop()}}),e)}))),[o]),Object($.jsx)($.Fragment,{children:Object($.jsx)(we.a,{value:o,onChange:function(e,t){d(t)},filterOptions:function(e,t){var n=ke(e,t);t.inputValue;return n},selectOnFocus:!0,handleHomeEndKeys:!0,id:"free-solo-with-text-demo",options:t,getOptionLabel:function(e){return"string"===typeof e?e:e.inputValue?e.inputValue:e.data},renderOption:function(e,t){return Object($.jsx)("li",Object(ye.a)(Object(ye.a)({},e),{},{children:t.data}))},sx:{width:300},freeSolo:!0,renderInput:function(e){return Object($.jsx)(Se.a,Object(ye.a)(Object(ye.a)({},e),{},{label:r,size:"small"}))}})})}var Ee=function(e){var t=e.orderObj,n=e.setUpdateDialog,a=e.setReload,r=Object(c.useState)(t.id_order),s=Object(i.a)(r,2),l=s[0],o=(s[1],Object(c.useState)(t.total)),d=Object(i.a)(o,2),j=d[0],u=d[1],O=Object(c.useState)(t.state),m=Object(i.a)(O,2),p=m[0],x=m[1],f=Object(c.useState)(t.date),v=Object(i.a)(f,2),N=v[0],C=v[1],y=Object(c.useState)(t.description),S=Object(i.a)(y,2),_=S[0],w=S[1],D=Object(c.useState)(t.seller),E=Object(i.a)(D,2),T=E[0],I=E[1],G=Object(c.useState)(t.client),A=Object(i.a)(G,2),B=A[0],P=A[1],q=Object(c.useState)(!1),M=Object(i.a)(q,2),K=M[0],J=M[1],W=Object(c.useState)(!1),H=Object(i.a)(W,2),Y=H[0],Z=H[1],Q=Object(c.useState)(!1),X=Object(i.a)(Q,2),ee=X[0],te=X[1],ne=Object(c.useState)(!1),ce=Object(i.a)(ne,2),ae=ce[0],re=ce[1],se=Object(c.useState)(!1),ie=Object(i.a)(se,2),le=ie[0],oe=ie[1],de=Object(c.useState)(""),je=Object(i.a)(de,2),ue=je[0],be=je[1],he=Object(c.useState)(""),Oe=Object(i.a)(he,2),me=Oe[0],pe=Oe[1],xe=Object(c.useState)(),Ne=Object(i.a)(xe,2),ge=Ne[0],ye=Ne[1],Se=Object(c.useState)(1),_e=Object(i.a)(Se,2),we=_e[0],ke=_e[1],Ee=Object(c.useState)(!1),Te=Object(i.a)(Ee,2),Ie=Te[0],Ge=Te[1],Ae=Object(c.useState)(!1),Be=Object(i.a)(Ae,2),Le=Be[0],Re=Be[1],Pe=Object(c.useState)(0),Ve=Object(i.a)(Pe,2),Ue=(Ve[0],Ve[1],Object(c.useState)(0)),qe=Object(i.a)(Ue,2),Fe=qe[0],ze=qe[1],$e=Object(c.useState)([]),Me=Object(i.a)($e,2),Ke=Me[0],Je=Me[1],We=Object(c.useState)([]),He=Object(i.a)(We,2),Ye=He[0],Ze=He[1],Qe=Object(c.useState)(null),Xe=Object(i.a)(Qe,2),et=Xe[0],tt=Xe[1];Object(c.useEffect)(Object(h.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L((function(e){var t=e.data,n=[];for(var c in t){var a={data:t[c].client_doc_id+"-"+t[c].client_name,client_doc_id:t[c].client_doc_id,client_name:t[c].client_name};n.push(a)}Ze(n)}),(function(e){console.error("Salio un error:",e)}));case 2:return e.next=4,k("vendedor",(function(e){var t=e.data,n=[];for(var c in t){var a={data:t[c].name,seller_id:t[c]._id,seller_name:t[c].name};n.push(a)}Je(n)}),(function(e){console.error("Salio un error:",e)}));case 4:return e.next=6,g("Disponible",(function(e){var t=e.data,n=[];for(var c in t){var a={data:t[c].id+"-"+t[c].description+" $"+t[c].unitprice,description:t[c].description,unitprice:t[c].unitprice,id:t[c].id};n.push(a)}tt(n)}),(function(e){console.error("Salio un error:",e)}));case 6:Ge(!1),Re(!1);case 8:case"end":return e.stop()}}),e)}))),[Ie]),Object(c.useEffect)(Object(h.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w(_),document.getElementById("id_add").value="",ke(1),document.getElementById("descrip_add").value="",document.getElementById("unitprice_add").value=0,document.getElementById("total_add").value=0,ye(null),Re(!1);case 8:case"end":return e.stop()}}),e)}))),[Le]),Object(c.useEffect)(Object(h.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null!=ge&&(document.getElementById("id_add").value=ge.id,document.getElementById("descrip_add").value=ge.description,document.getElementById("unitprice_add").value=ge.unitprice,document.getElementById("total_add").value=ge.unitprice*we);case 1:case"end":return e.stop()}}),e)}))),[ge]),Object(c.useEffect)(Object(h.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null!=ge&&(document.getElementById("unitprice_add").value=ge.unitprice,document.getElementById("total_add").value=ge.unitprice*we);case 1:case"end":return e.stop()}}),e)}))),[we]);var nt=function(){var e=Object(h.a)(b.a.mark((function e(){var c,r,s,i,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c={client_doc_id:B.client_doc_id,client_name:B.client_name},r={seller_id:T.seller_id,seller_name:T.seller_name},s=t._id,{id_order_db:s,id_order:l,date:N,state:p,description:_,client:c,seller:r,total:j},!(_.length>0&&null!=B&&null!=T)){e.next=12;break}return i={client_doc_id:B.client_doc_id,client_name:B.client_name},o={seller_id:T.seller_id,seller_name:T.seller_name},t._id,e.next=10,V(t._id,{id_order:l,date:N,state:p,description:_,client:i,seller:o,total:j},(function(e){U.c.success("Venta modificada con \xe9xito"),n(!1),a(!0)}),(function(e){console.error(e),U.c.error("Error modificando la orden de venta")}));case 10:e.next=13;break;case 12:U.c.error("Error al modificar la venta. No puede haber venta sin articulos.");case 13:re(!1);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ct=function(){var e=Object(h.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""==me||null==Ye){e.next=5;break}return e.next=3,R({client_doc_id:me,client_name:ue},(function(e){U.c.success("Cliente fue agregado exitosamente, revise el selector de clientes"),oe(!1),Ge(!0)}),(function(e){console.error(e),U.c.error("Ya existe un cliente con ese documento de id")}));case 3:e.next=6;break;case 5:U.c.error("Digite un id v\xe1lido");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object($.jsxs)("div",{className:" orderSplit",children:[Object($.jsxs)("div",{className:"sectionOrder ",children:[Object($.jsxs)("h1",{className:" addNewSubt  marg-l",children:[" VENTA REALIZADA  # ",t.id_order,": "]}),Object($.jsxs)("div",{className:"newOrderCont",children:[Object($.jsxs)("div",{className:"labelsOrders",children:[Object($.jsx)("label",{children:"ID Venta"}),Object($.jsx)("label",{children:"Fecha"}),Object($.jsx)("label",{children:"Estado Venta"}),Object($.jsx)("label",{children:"Vendedor"}),Object($.jsx)("label",{children:"Cliente"})]}),Object($.jsxs)("div",{className:"inputsOrders",children:[Object($.jsx)("label",{children:t.id_order}),Object($.jsx)(Ce,{name:"date",value:N,setSelectedDate:C}),Object($.jsxs)("select",{name:"state",value:p,className:"selectStatus",onChange:function(e){return x(e.target.value)},children:[Object($.jsx)("option",{className:"pending",value:"En proceso",children:"En proceso"}),Object($.jsx)("option",{className:"aproved",value:"Entregada",children:"Entregada"}),Object($.jsx)("option",{className:"denied",value:"Cancelada",children:"Cancelada"})]}),Object($.jsx)("input",{className:"inputChange ",value:T.seller_name,disabled:!0}),Object($.jsx)("input",{className:"inputChange ",value:B.client_name,disabled:!0})]})]}),Object($.jsxs)("div",{className:"changeOpt",children:[Object($.jsxs)("div",{children:[Object($.jsx)("button",{className:"btnGeneral btnOpt",onClick:function(){return Z(!Y)},children:"Cambiar Vendedor"}),Y&&Object($.jsx)("div",{className:"divClientOpt",children:Object($.jsx)(De,{listOptions:Ke,setOptionSelected:I,labelOf:"Buscar Vendedor"})})]}),Object($.jsx)("div",{children:Object($.jsxs)($.Fragment,{children:[Object($.jsx)("button",{className:"btnGeneral btnOpt",onClick:function(){return J(!K)},children:"Cambiar Cliente"}),K&&Object($.jsxs)("div",{className:"divClientOpt",children:[Object($.jsx)(De,{listOptions:Ye,setOptionSelected:P,labelOf:"Buscar Cliente"}),Object($.jsx)("div",{className:"divCenter",children:le?Object($.jsxs)("div",{className:"dataNewClientdiv",children:[Object($.jsxs)("div",{className:"closeNewClient",children:[Object($.jsxs)("button",{type:"submit",className:"btnGeneral btnEdit mg-le",onClick:function(){return ct(!0)},children:[Object($.jsx)("i",{className:"fas fa-save"}),"Guardar  "]}),Object($.jsxs)("button",{className:"btnGeneral spanCloseClient",onClick:function(){return oe(!1)},children:[Object($.jsx)("i",{className:"far fa-times-circle fa-1x"})," Cerrar "]})]}),Object($.jsxs)("div",{className:"divClient",children:[Object($.jsxs)("div",{children:[Object($.jsx)("label",{children:"ID Cliente  "}),Object($.jsx)("label",{children:"Nombre Cliente "})]}),Object($.jsxs)("div",{children:[Object($.jsx)("input",{type:"number",className:"inputChange ",min:"1",placeholder:"ID Cliente",value:me,onChange:function(e){return pe(e.target.value)},required:!0}),Object($.jsx)("input",{type:"text",autoCapitalize:"sentences",className:"inputChange ",placeholder:"Nombre Cliente",value:ue,onChange:function(e){return be(e.target.value)},required:!0})]})]})]}):Object($.jsx)("div",{className:"saveBtnDiv",children:Object($.jsxs)("button",{type:"submit",className:"btnGeneral  btnOpt",onClick:function(){return oe(!0)},children:[Object($.jsx)("i",{className:"fas fa-user-plus"}),"Nuevo Cliente "]})})})]})]})})]})]}),Object($.jsxs)("div",{className:"listSectionContainer divProductToAdd ",children:[Object($.jsx)("div",{children:Object($.jsx)("h3",{className:"subt1",children:" PRODUCTOS COMPRADOS: "})}),Object($.jsxs)("div",{className:"productsToCart",children:[Object($.jsx)("div",{children:Object($.jsx)(De,{listOptions:et,setOptionSelected:ye,labelOf:"Buscar Producto"})}),Object($.jsxs)("div",{className:"dataProductToAdd",children:[Object($.jsxs)("div",{className:"divCartOpt",children:[Object($.jsx)("label",{children:"Id "}),Object($.jsx)("input",{id:"id_add",className:"inputChange inputNumber",type:"number",placeholder:"",min:"1",disabled:!0})]}),Object($.jsxs)("div",{className:"divCartOpt",children:[Object($.jsx)("label",{children:"Descripcion "}),Object($.jsx)("input",{id:"descrip_add",className:"inputChange mediumTD",type:"text",placeholder:"",min:"1",disabled:!0})]}),Object($.jsxs)("div",{className:"divCartOpt",children:[Object($.jsx)("label",{children:"Cantidad "}),Object($.jsx)("input",{id:"quantity_add",className:"inputChange inputNumber",type:"number",placeholder:"1",min:"1",value:we,onChange:function(e){return ke(e.target.value)}})]}),Object($.jsxs)("div",{className:"divCartOpt",children:[Object($.jsx)("label",{children:"x Precio Und "}),Object($.jsx)("input",{id:"unitprice_add",className:"inputChange inputNumber",type:"number",placeholder:"$",disabled:!0})]}),Object($.jsxs)("div",{className:"divCartOpt",children:[Object($.jsx)("label",{children:" = Total"}),Object($.jsx)("input",{id:"total_add",className:"inputChange inputNumber",type:"number",placeholder:"$",disabled:!0})]}),Object($.jsxs)("div",{className:"btn2div",children:[Object($.jsx)("button",{className:"btnGeneral btnEdit",onClick:function(){return function(){if(null!=ge){var e=document.getElementById("id_add").value=ge.id,t=document.getElementById("descrip_add").value=ge.description,n=document.getElementById("unitprice_add").value=ge.unitprice,c=document.getElementById("total_add").value=ge.unitprice*we,a={id:e,description:t,unitprice:n,quantity:we,subtotal:c,numRow:Fe};_.push(a),u(j+c),ze(Fe+1),Re(!0)}else U.c.error("Seleccione otra vez el producto o uno nuevo")}()},children:Object($.jsx)("i",{className:"fas fa-shopping-cart "})}),Object($.jsx)("button",{type:"button",className:"btnGeneral btnDelete",children:Object($.jsx)("img",{className:"btnIcon",src:ve,onClick:function(){return Re(!0)},alt:"img"})})," "]})]})]}),Object($.jsx)("div",{className:"tableDialogView divCartTable",children:Object($.jsxs)("table",{className:"tableorderinfo",children:[Object($.jsx)("thead",{children:Object($.jsxs)("tr",{className:"viewRowMedium",children:[Object($.jsx)("th",{children:"Id"}),Object($.jsx)("th",{children:"Producto"}),Object($.jsx)("th",{children:"Cantidad"}),Object($.jsx)("th",{children:"Precio Und"}),Object($.jsx)("th",{children:"Subtotal"}),Object($.jsx)("th",{children:"Quitar"})]})}),Object($.jsxs)("tbody",{children:["  ",_.map((function(e){e.numRow;return Object($.jsxs)("tr",{className:"viewRowMedium",children:[Object($.jsx)("td",{className:"numberTD",children:e.id}),Object($.jsx)("td",{className:"mediumTD",children:e.description}),Object($.jsxs)("td",{className:"smallTD ",children:["  ",Object($.jsx)("label",{children:e.quantity})]}),Object($.jsxs)("td",{className:"smallTD",children:["$ ",e.unitprice]}),Object($.jsxs)("td",{className:"smallTD",children:["$ ",e.unitprice*e.quantity," "]}),Object($.jsx)("button",{onClick:function(){return function(e,t){u(j-t);var n=_.filter((function(t){return t.numRow!==e}));w(n)}(e.numRow,e.subtotal)},children:Object($.jsx)("i",{className:"fas fa-backspace"})})]},Object(z.a)())}))]}),Object($.jsxs)("tfoot",{children:["    ",Object($.jsxs)("tr",{children:[Object($.jsx)("td",{align:"right",colspan:"4",children:"Total $"}),Object($.jsxs)("td",{children:[" ",Object($.jsx)("input",{className:"inputChange inputNumber ",placeholder:"$ Total",value:j,disabled:!0})]})]})]})]})}),Object($.jsxs)("div",{className:"infoFin ",children:[Object($.jsxs)("div",{className:"divBtnTotalOrder ",children:[Object($.jsx)("label",{className:"labeltotal",children:"Total Venta $"}),Object($.jsx)("input",{className:"inputChange inputTotal ",placeholder:"$ Total",value:j,disabled:!0})]}),Object($.jsxs)("div",{className:"divBtnTotalOrder2 ",children:[Object($.jsxs)("button",{type:"submit",className:"btnBig btnAddOrder",onClick:function(){return re(!0)},children:[Object($.jsx)("img",{className:"btnIcon",src:fe,alt:"img"})," Guardar"]}),Object($.jsx)("button",{type:"button",onClick:function(){return n(!1)},className:" btnBig btnCancelOrder",children:"Cancelar"})]})]})]}),Object($.jsx)(F.a,{open:ae,children:Object($.jsxs)("div",{className:"dialogUpdate",children:[Object($.jsx)("h5",{children:"Actualizaci\xf3n de la Orden:"}),Object($.jsxs)("div",{className:"infoUpdateDiv",children:[Object($.jsxs)("p",{align:"center",children:[" ID: ",l,"      --    Estado: ",p]}),Object($.jsxs)("p",{align:"center",children:["Cliente:",B.client_doc_id," - ",B.client_name]}),Object($.jsxs)("p",{align:"center",children:[" Vendedor: ",T.seller_id," - ",T.seller_name,"   "]}),Object($.jsxs)("p",{align:"center",children:[" Precio Total: $",j,"   "]})]}),Object($.jsxs)("div",{className:"editBtnContainer2",children:[Object($.jsx)("button",{type:"button",className:"btnGeneral btnEdit",onClick:function(){return nt()},children:"Si"}),Object($.jsx)("button",{type:"reset",className:"btnGeneral btnDelete",onClick:function(){return re(!1)},children:"No"})]})]})}),Object($.jsx)(F.a,{open:ee,children:Object($.jsxs)("div",{className:"dialogDelete",children:[Object($.jsx)("h5",{children:"\xbfEst\xe1 seguro de cancelar la edici\xf3n de la orden ?"}),Object($.jsx)("p",{align:"center",children:"Los datos editados no se guardar\xe1n.   "}),Object($.jsxs)("div",{className:"editBtnContainer2",children:[Object($.jsx)("button",{type:"button",id:"reloadPage",className:"btnGeneral btnEdit",onClick:function(){return n(!1)},children:" Si"}),Object($.jsx)("button",{type:"button",className:"btnGeneral btnDelete",onClick:function(){return te(!1)},children:"No"})]})]})}),Object($.jsx)(U.a,{rtl:!0,position:"top-center",autoClose:2e3,transition:U.b,limit:1})]})},Te=function(e){Object(xe.a)(e);var t=function(e){var t=e.order,n=e.setReload,a=Object(c.useState)(!1),r=Object(i.a)(a,2),s=r[0],l=r[1],o=Object(c.useState)(!1),d=Object(i.a)(o,2),j=d[0],u=d[1],O=Object(c.useState)(!1),m=Object(i.a)(O,2),p=m[0],x=m[1],f=function(){var e=Object(h.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!1),e.next=3,B(t._id,(function(e){U.c.success("Venta eliminada con \xe9xito")}),(function(e){console.error(e),U.c.error("Error eliminando la venta")}));case 3:n(!0);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object($.jsxs)("tr",{className:"datarow",children:[Object($.jsx)("td",{className:"numberTD",children:t.id_order}),Object($.jsx)("td",{className:"smallTD",children:t.seller.seller_name}),Object($.jsx)("td",{className:"numberTD",children:t.client.client_doc_id}),Object($.jsx)("td",{className:"mediumTD",children:t.client.client_name}),Object($.jsx)("td",{className:"smallTD",children:t.date}),Object($.jsxs)("td",{className:"smallTD",children:[" $ ",t.total]}),Object($.jsx)("td",{className:"smallTD ",children:t.state}),Object($.jsx)("td",{className:"smallTD",children:Object($.jsxs)("div",{className:"editBtnContainer3",children:[Object($.jsx)(q.a,{title:"Ver",arrow:!0,placement:"top",children:Object($.jsxs)("button",{type:"button",className:"btnGeneral btnDelete",onClick:function(){return x(!0)},children:[" ",Object($.jsx)("i",{className:"fas fa-eye"})]})}),Object($.jsx)(q.a,{title:"Editar",arrow:!0,placement:"top",children:Object($.jsxs)("button",{type:"button",className:"btnGeneral btnEdit",onClick:function(){return u(!0)},children:[" ",Object($.jsx)("i",{className:"fas fa-edit"})]})}),Object($.jsx)(oe,{roleList:["administrador"],children:Object($.jsx)(q.a,{title:"Eliminar",arrow:!0,placement:"top",children:Object($.jsx)("button",{type:"button",className:"btnGeneral btnDelete",onClick:function(){return l(!0)},children:Object($.jsx)("i",{className:"fas fa-trash"})})})})]})}),Object($.jsx)(F.a,{open:p,children:Object($.jsxs)("div",{className:"dialogViewOrder",children:[Object($.jsxs)("div",{className:"headerDialogView",children:[Object($.jsxs)("h5",{children:["Venta # ",t.id_order]}),Object($.jsxs)("span",{className:"spanClose",children:[Object($.jsx)("i",{className:"far fa-times-circle fa-2x",onClick:function(){return x(!1)}})," "]})]}),Object($.jsxs)("div",{className:"infoOrderheader",children:[Object($.jsxs)("span",{className:"pLarge",children:[" Cliente: ID ",t.client.id," - ",t.client.client_name," "]}),Object($.jsxs)("span",{children:[" Vendedor:   ",t.seller.seller_name," "]}),Object($.jsxs)("span",{children:[" Fecha: ",t.date," "]})]}),Object($.jsx)("div",{className:"tableDialogView",children:Object($.jsxs)("table",{className:"tableorderinfo",children:[Object($.jsx)("thead",{children:Object($.jsxs)("tr",{className:"viewRow",children:[Object($.jsx)("th",{children:"Id"}),Object($.jsx)("th",{children:"Producto"}),Object($.jsx)("th",{children:"Cantidad"}),Object($.jsx)("th",{children:"Precio Und"}),Object($.jsx)("th",{children:"Subtotal"})]})}),Object($.jsx)("tbody",{children:t.description.map((function(e){return Object($.jsxs)("tr",{className:"viewRow",children:[Object($.jsx)("td",{className:"numberTD",children:e.id}),Object($.jsx)("td",{className:"mediumTD",children:e.description}),Object($.jsx)("td",{className:"smallTD ",children:e.quantity}),Object($.jsxs)("td",{className:"smallTD",children:["$ ",e.unitprice]}),Object($.jsxs)("td",{className:"smallTD",children:["$ ",e.unitprice*e.quantity," "]})]},Object(z.a)())}))}),Object($.jsxs)("tfoot",{children:["    ",Object($.jsxs)("tr",{children:[Object($.jsx)("td",{align:"right",colspan:"4",children:"Total"}),Object($.jsxs)("td",{children:[" ",t.total]})]})]})]})}),Object($.jsx)("div",{className:"divtotalOrder",children:Object($.jsx)("button",{type:"button",className:"btnGeneral btnEdit BtnOK",onClick:function(){return x(!1)},children:"OK"})})]})}),Object($.jsx)(F.a,{fullWidth:!0,maxWidth:"xl",open:j,children:Object($.jsxs)("div",{className:"editDialog",children:[Object($.jsxs)("div",{className:"headerDialogView",children:[Object($.jsx)("h4",{children:"MODIFICAR UNA VENTA"}),Object($.jsxs)("span",{className:"spanClose",children:[Object($.jsx)("i",{className:"far fa-times-circle",onClick:function(){return u(!1)}})," "]})]}),Object($.jsx)(Ee,{orderObj:t,setUpdateDialog:u,setReload:n})]})}),Object($.jsx)(F.a,{open:s,children:Object($.jsxs)("div",{className:"dialogDelete",children:[Object($.jsxs)("div",{className:"headerDialogView",children:[Object($.jsx)("h5",{children:"\xbfEst\xe1 seguro de eliminar esta venta?"}),Object($.jsxs)("span",{className:"spanClose",children:[Object($.jsx)("i",{className:"far fa-times-circle fa-2x",onClick:function(){return l(!1)}})," "]})]}),Object($.jsxs)("p",{align:"center",children:["ID: ",t.id_order,"   - Total: $ ",t.total," "]}),Object($.jsxs)("p",{className:"pLarge",align:"center",children:[" Cliente: ID ",t.client.client_doc_id," - ",t.client.client_name," "]}),Object($.jsxs)("p",{className:"pLarge",align:"center",children:[" Fecha: ID ",t.date]}),Object($.jsxs)("div",{className:"editBtnContainer2",children:[Object($.jsx)("button",{type:"button",className:"btnGeneral btnEdit BtnOK",onClick:function(){return f()},children:"Si"}),Object($.jsx)("button",{type:"button",className:"btnGeneral btnDelete",onClick:function(){return l(!1)},children:"No"})]})]})})]})},n=Object(c.useRef)(null),a=Object(c.useState)(!1),r=Object(i.a)(a,2),s=r[0],l=r[1],o=Object(c.useState)([]),d=Object(i.a)(o,2),j=d[0],u=d[1],O=function(){var e=Object(h.a)(b.a.mark((function e(t){var c,a,r,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),c=new FormData(n.current),a={},c.forEach((function(e,t){a[t]=e})),r=a.searchSelect,s=a.toSearchInput,"searchbyIdOrder"!=r){e.next=15;break}if(Number(s)){e.next=11;break}U.c.error("digite un ID num\xe9rico",{position:"bottom-center"}),e.next=13;break;case 11:return e.next=13,I(s,(function(e){u(e.data)}),(function(e){console.error("Salio un error:",e)}));case 13:case 22:e.next=27;break;case 15:if("searchbyIdClient"!=r){e.next=24;break}if(Number(s)){e.next=20;break}U.c.error("digite un ID num\xe9rico",{position:"bottom-center"}),e.next=22;break;case 20:return e.next=22,G(s,(function(e){u(e.data)}),(function(e){console.error("Salio un error:",e)}));case 24:if("searchbyClientName"!=r){e.next=27;break}return e.next=27,A(s,(function(e){u(e.data)}),(function(e){console.error("Salio un error:",e)}));case 27:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)(Object(h.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T((function(e){u(e.data)}),(function(e){console.error(" An error:",e)}));case 2:document.getElementById("formSearchingOrder").reset(),l(!1);case 4:case"end":return e.stop()}}),e)}))),[s]),Object($.jsxs)($.Fragment,{children:[Object($.jsxs)("div",{className:"searchContainer  marg-l",children:[Object($.jsxs)("form",{id:"formSearchingOrder",ref:n,onSubmit:O,children:[Object($.jsx)("span",{children:"Buscar Venta por "}),Object($.jsxs)("select",{id:"searchSelect",name:"searchSelect",className:"selectRole ",children:[Object($.jsx)("option",{value:"",disabled:!0,children:"Buscar por"}),Object($.jsx)("option",{value:"searchbyIdOrder",children:"ID Venta"}),Object($.jsx)("option",{value:"searchbyIdClient",children:"ID Cliente"}),Object($.jsx)("option",{value:"searchbyClientName",children:"Nombre Cliente"})]}),Object($.jsx)("input",{type:"text",name:"toSearchInput",className:"toSearchInput",placeholder:"Buscar"}),Object($.jsxs)("button",{type:"submit",className:"btnGeneral btnSearchUser",children:[Object($.jsx)("i",{className:"fas fa-search-plus"}),"Buscar"]})]}),Object($.jsxs)("button",{className:"btnGeneral btnBack",onClick:function(){return l(!s)},children:[Object($.jsx)("i",{className:"fas fa-undo-alt"}),"Volver a tabla"]})]}),Object($.jsxs)("div",{className:"listSectionContainer divOrders",children:[Object($.jsxs)("table",{className:"ListTable",children:[Object($.jsx)("thead",{className:"thead ",children:Object($.jsxs)("tr",{children:[Object($.jsx)("th",{className:"col_title ",children:"ID Venta"}),Object($.jsx)("th",{className:"col_title ",children:" Vendedor"}),Object($.jsx)("th",{className:"col_title",children:"ID Cliente"}),Object($.jsx)("th",{className:"col_title",children:"Cliente"}),Object($.jsx)("th",{className:"col_title",children:"Fecha Venta"}),Object($.jsx)("th",{className:"col_title",children:"Total"}),Object($.jsx)("th",{className:"col_title",children:"Estado"}),Object($.jsx)("th",{className:"col-title col-last",children:"Modificar"})]})}),Object($.jsx)("tbody",{children:j.map((function(e){return Object($.jsx)(t,{order:e,setReload:l},Object(z.a)())}))})]}),Object($.jsx)(U.a,{rtl:!0,position:"top-center",autoClose:2e3,transition:U.b,limit:1})]})]})},Ie=function(){var e=Object(c.useState)(""),t=Object(i.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(0),s=Object(i.a)(r,2),o=s[0],d=s[1],j=Object(c.useState)("En proceso"),u=Object(i.a)(j,2),O=u[0],m=u[1],p=Object(c.useState)(null),x=Object(i.a)(p,2),f=x[0],v=x[1],N=Object(c.useState)(null),C=Object(i.a)(N,2),y=C[0],S=C[1],_=Object(c.useState)(new Date),w=Object(i.a)(_,2),D=w[0],E=w[1],T=Object(c.useState)([]),I=Object(i.a)(T,2),G=I[0],A=I[1],B=Object(c.useState)(!1),V=Object(i.a)(B,2),q=V[0],M=V[1],K=Object(c.useState)(!1),J=Object(i.a)(K,2),W=J[0],H=J[1],Y=Object(c.useState)(!1),Z=Object(i.a)(Y,2),Q=(Z[0],Z[1],Object(c.useState)(!1)),X=Object(i.a)(Q,2),ee=X[0],te=X[1],ne=Object(c.useState)(""),ce=Object(i.a)(ne,2),ae=ce[0],re=ce[1],se=Object(c.useState)(""),ie=Object(i.a)(se,2),le=ie[0],de=ie[1],je=Object(c.useState)(),ue=Object(i.a)(je,2),be=ue[0],he=ue[1],Oe=Object(c.useState)(1),me=Object(i.a)(Oe,2),pe=me[0],xe=me[1],Ne=Object(c.useState)(!1),ge=Object(i.a)(Ne,2),ye=ge[0],Se=ge[1],_e=Object(c.useState)(!1),we=Object(i.a)(_e,2),ke=we[0],Ee=we[1],Te=Object(c.useState)(0),Ie=Object(i.a)(Te,2),Ge=(Ie[0],Ie[1],Object(c.useState)(0)),Ae=Object(i.a)(Ge,2),Be=Ae[0],Le=Ae[1],Re=Object(c.useState)([]),Pe=Object(i.a)(Re,2),Ve=Pe[0],Ue=Pe[1],qe=Object(c.useState)([]),Fe=Object(i.a)(qe,2),ze=Fe[0],$e=Fe[1],Me=Object(c.useState)(null),Ke=Object(i.a)(Me,2),Je=Ke[0],We=Ke[1];Object(c.useEffect)(Object(h.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L((function(e){var t=e.data,n=[];for(var c in t){var a={data:t[c].client_doc_id+"-"+t[c].client_name,client_doc_id:t[c].client_doc_id,client_name:t[c].client_name};n.push(a)}$e(n)}),(function(e){console.error("Salio un error:",e)}));case 2:return e.next=4,k("vendedor",(function(e){var t=e.data,n=[];for(var c in t){var a={data:t[c].name,seller_id:t[c]._id,seller_name:t[c].name};n.push(a)}Ue(n)}),(function(e){console.error("Salio un error:",e)}));case 4:return e.next=6,g("Disponible",(function(e){var t=e.data,n=[];for(var c in t){var a={data:t[c].id+"-"+t[c].description+" $"+t[c].unitprice,description:t[c].description,unitprice:t[c].unitprice,id:t[c].id};n.push(a)}We(n)}),(function(e){console.error("Salio un error:",e)}));case 6:Se(!1),Ee(!1);case 8:case"end":return e.stop()}}),e)}))),[ye]),Object(c.useEffect)(Object(h.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:A(G),xe(1),Ee(!1);case 3:case"end":return e.stop()}}),e)}))),[ke]),Object(c.useEffect)(Object(h.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null!=be&&(document.getElementById("id_add").value=be.id,document.getElementById("descrip_add").value=be.description,document.getElementById("unitprice_add").value=be.unitprice,document.getElementById("total_add").value=be.unitprice*pe);case 1:case"end":return e.stop()}}),e)}))),[be]),Object(c.useEffect)(Object(h.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null!=be&&(document.getElementById("unitprice_add").value=be.unitprice,document.getElementById("total_add").value=be.unitprice*pe);case 1:case"end":return e.stop()}}),e)}))),[pe]);var He=function(){var e=Object(h.a)(b.a.mark((function e(){var t,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(G.length>0&&null!=y&&null!=f&&""!=n)){e.next=8;break}return t={client_doc_id:y.client_doc_id,client_name:y.client_name},c={seller_id:f.seller_id,seller_name:f.seller_name},{id_order:n,date:D,state:O,description:G,client:t,seller:c,total:o},e.next=6,P({id_order:n,date:D,state:O,description:G,client:t,seller:c,total:o},(function(e){H(!0),U.c.success("Orden de venta agregada con \xe9xito")}),(function(e){console.error(e),U.c.error("Error creando una orden venta.ID ya existente")}));case 6:e.next=9;break;case 8:U.c.error("Error. Revise cliente, vendedor y compra no vac\xeda");case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ye=function(){var e=Object(h.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""==le||null==ze){e.next=5;break}return e.next=3,R({client_doc_id:le,client_name:ae},(function(e){U.c.success("Cliente fue agregado exitosamente, seleccionelo en el selector"),te(!1),Se(!0)}),(function(e){console.error(e),U.c.error("Ya existe un cliente con ese documento de id")}));case 3:e.next=6;break;case 5:U.c.error("Digite un id v\xe1lido");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object($.jsxs)("div",{className:" orderSplit",children:[Object($.jsxs)("div",{className:"sectionOrder",children:[Object($.jsx)("h2",{className:" addNewSubt  marg-l",children:"Ingrese la informaci\xf3n: "}),Object($.jsxs)("div",{className:"newOrderCont",children:[Object($.jsxs)("div",{className:"labelsOrders",children:[Object($.jsx)("label",{children:"ID Venta"}),Object($.jsx)("label",{children:"Fecha"}),Object($.jsx)("label",{children:"Estado Venta"})]}),Object($.jsxs)("div",{className:"inputsOrders",children:[Object($.jsx)("input",{id:"id_order_input",name:"id_order",value:n,className:"inputChange inputValue",type:"number",min:"1",placeholder:"",onChange:function(e){return a(e.target.value)},required:!0}),Object($.jsx)(Ce,{name:"date",value:D,setSelectedDate:E}),Object($.jsxs)("select",{name:"state",value:O,className:"selectStatus",onChange:function(e){return m(e.target.value)},children:[Object($.jsx)("option",{className:"pending",value:"En proceso",children:"En proceso"}),Object($.jsx)("option",{className:"aproved",value:"Entregada",children:"Entregada"}),Object($.jsx)("option",{className:"denied",value:"Cancelada",children:"Cancelada"})]})]})]}),Object($.jsxs)("div",{className:"divClientOpt",children:[Object($.jsx)("h5",{children:"Vendedor"}),Object($.jsx)(De,{listOptions:Ve,setOptionSelected:v,labelOf:"Buscar Vendedor"})]}),Object($.jsxs)("div",{className:"divClientOpt",children:[Object($.jsx)("h5",{children:"Cliente"}),Object($.jsx)(De,{listOptions:ze,setOptionSelected:S,labelOf:"Buscar Cliente"}),Object($.jsx)("div",{className:"divCenter",children:ee?Object($.jsxs)($.Fragment,{children:[Object($.jsx)("div",{className:"closeNewClient",children:Object($.jsxs)("button",{className:"btnGeneral spanCloseClient",onClick:function(){return te(!1)},children:[Object($.jsx)("i",{className:"far fa-times-circle fa-1x"})," Cerrar "]})}),Object($.jsxs)("div",{className:"divClient",children:[Object($.jsxs)("div",{children:[Object($.jsx)("label",{children:"ID cliente "}),Object($.jsx)("label",{children:"Nombre cliente"})]}),Object($.jsxs)("div",{children:[Object($.jsx)("input",{type:"number",className:"inputChange ",min:"1",placeholder:"ID Cliente",value:le,onChange:function(e){return de(e.target.value)},required:!0}),Object($.jsx)("input",{type:"text",autoCapitalize:"sentences",className:"inputChange ",placeholder:"Nombre Cliente",value:ae,onChange:function(e){return re(e.target.value)},required:!0})]})]}),Object($.jsxs)("button",{type:"submit",className:"btnGeneral btnOpt",onClick:function(){return Ye(!0)},children:[Object($.jsx)("i",{className:"fas fa-save"}),"Guardar Cliente "]})]}):Object($.jsx)("div",{className:"saveBtnDiv",children:Object($.jsxs)("button",{type:"submit",className:"btnGeneral  btnOpt",onClick:function(){return te(!0)},children:[Object($.jsx)("i",{className:"fas fa-user-plus"}),"Nuevo Cliente "]})})})]})]}),Object($.jsxs)("div",{className:" divProductToAdd ",children:[Object($.jsx)("div",{children:Object($.jsx)("h3",{className:"subt1",children:"A\xd1ADIR PRODUCTOS: "})}),Object($.jsxs)("div",{className:"productsToCart",children:[Object($.jsx)("div",{children:Object($.jsx)(De,{listOptions:Je,setOptionSelected:he,labelOf:"Buscar Producto"})}),Object($.jsxs)("div",{className:"dataProductToAdd",children:[Object($.jsxs)("div",{className:"divCartOpt",children:[Object($.jsx)("label",{children:"Id "}),Object($.jsx)("input",{id:"id_add",className:"inputChange inputNumber",type:"number",placeholder:"",min:"1",disabled:!0})]}),Object($.jsxs)("div",{className:"divCartOpt",children:[Object($.jsx)("label",{children:"Descripcion "}),Object($.jsx)("input",{id:"descrip_add",className:"inputChange smallLargeTD ",type:"text",placeholder:"",min:"1",disabled:!0})]}),Object($.jsxs)("div",{className:"divCartOpt",children:[Object($.jsx)("label",{children:"Cantidad "}),Object($.jsx)("input",{id:"quantity_add",className:"inputChange inputNumber",type:"number",placeholder:"1",min:"1",value:pe,onChange:function(e){return xe(e.target.value)}})]}),Object($.jsxs)("div",{className:"divCartOpt",children:[Object($.jsx)("label",{children:"x Precio Und "}),Object($.jsx)("input",{id:"unitprice_add",className:"inputChange inputNumber",type:"number",placeholder:"$",disabled:!0})]}),Object($.jsxs)("div",{className:"divCartOpt",children:[Object($.jsx)("label",{children:" = Total"}),Object($.jsx)("input",{id:"total_add",className:"inputChange inputNumber",type:"number",placeholder:"$",disabled:!0})]}),Object($.jsxs)("div",{className:"btn2div",children:[Object($.jsx)("button",{className:"btnGeneral btnEdit",onClick:function(){return function(){if(null!=be){var e=document.getElementById("id_add").value=be.id,t=document.getElementById("descrip_add").value=be.description,n=document.getElementById("unitprice_add").value=be.unitprice,c=document.getElementById("total_add").value=be.unitprice*pe,a={id:e,description:t,unitprice:n,quantity:pe,subtotal:c,numRow:Be};G.push(a),d(o+c),Le(Be+1),Ee(!0)}else U.c.error("Seleccione otra vez el producto o uno nuevo")}()},children:Object($.jsx)("i",{className:"fas fa-shopping-cart "})}),Object($.jsx)("button",{type:"button",className:"btnGeneral btnDelete",children:Object($.jsx)("img",{className:"btnIcon",src:ve,onClick:function(){return Ee(!0)},alt:"img"})})," "]})]})]}),Object($.jsx)("div",{className:"tableDialogView divCartTable",children:Object($.jsxs)("table",{className:"tableorderinfo",children:[Object($.jsx)("thead",{children:Object($.jsxs)("tr",{className:"viewRowMedium",children:[Object($.jsx)("th",{children:"Id"}),Object($.jsx)("th",{children:"Producto"}),Object($.jsx)("th",{children:"Cantidad"}),Object($.jsx)("th",{children:"Precio Und"}),Object($.jsx)("th",{children:"Subtotal"}),Object($.jsx)("th",{children:"Quitar"})]})}),Object($.jsxs)("tbody",{children:["  ",G.map((function(e){e.numRow;return Object($.jsxs)("tr",{className:"viewRowMedium",children:[Object($.jsx)("td",{className:"numberTD",children:e.id}),Object($.jsx)("td",{className:"mediumTD",children:e.description}),Object($.jsxs)("td",{className:"smallTD ",children:["  ",Object($.jsx)("label",{children:e.quantity})]}),Object($.jsxs)("td",{className:"smallTD",children:["$ ",e.unitprice]}),Object($.jsxs)("td",{className:"smallTD",children:["$ ",e.unitprice*e.quantity," "]}),Object($.jsx)("button",{onClick:function(){return function(e,t){d(o-t);var n=G.filter((function(t){return t.numRow!==e}));A(n)}(e.numRow,e.subtotal)},children:Object($.jsx)("i",{className:"fas fa-backspace"})})]},Object(z.a)())}))]}),Object($.jsxs)("tfoot",{children:["    ",Object($.jsxs)("tr",{children:[Object($.jsx)("td",{align:"right",colspan:"4",children:"Total $"}),Object($.jsxs)("td",{children:[" ",Object($.jsx)("input",{className:"inputChange inputNumber ",placeholder:"$ Total",value:o,disabled:!0})]})]})]})]})}),Object($.jsxs)("div",{className:"infoFin",children:[Object($.jsxs)("div",{className:"divBtnTotalOrder",children:[Object($.jsx)("label",{className:"labeltotal",children:"Total Venta $"}),Object($.jsx)("input",{className:"inputChange inputTotal ",placeholder:"$ Total",value:o,disabled:!0})]}),Object($.jsxs)("div",{className:"divBtnTotalOrder2 ",children:[Object($.jsxs)("button",{type:"submit",className:"btnBig btnAddOrder",onClick:function(){return He()},children:[Object($.jsx)("img",{className:"btnIcon",src:fe,alt:"img"})," Guardar"]}),Object($.jsx)("button",{type:"reset",onClick:function(){return M(!0)},className:" btnBig btnCancelOrder",children:"Cancelar"})]})]})]}),Object($.jsx)(F.a,{open:q,children:Object($.jsxs)("div",{className:"dialogDelete",children:[Object($.jsx)("h5",{children:"\xbfEst\xe1 seguro de cancelar esta orden en progreso ?"}),Object($.jsx)("p",{align:"center",children:"Los datos no se guardar\xe1n.   "}),Object($.jsxs)("div",{className:"editBtnContainer2",children:[Object($.jsx)(oe,{roleList:["vendedor"],children:Object($.jsx)(l.b,{to:"/vendedor/",children:Object($.jsx)("button",{className:"btnGeneral btnEdit",children:"  Si"})})}),Object($.jsx)(oe,{roleList:["administrador"],children:Object($.jsx)(l.b,{to:"/admin/",children:Object($.jsx)("button",{className:"btnGeneral btnEdit",children:"  Si"})})}),Object($.jsx)("button",{type:"button",className:"btnGeneral btnDelete",onClick:function(){return M(!1)},children:"No"})]})]})}),Object($.jsx)(U.a,{rtl:!0,position:"top-center",autoClose:2e3,transition:U.b,limit:1}),Object($.jsx)(F.a,{open:W,children:Object($.jsxs)("div",{className:"dialogDelete",children:[Object($.jsxs)("h5",{children:["Su venta se ha guardado ",Object($.jsx)("br",{})," con \xe9xito."]}),Object($.jsxs)("p",{align:"center",children:["Id venta: ",n," - Total : $",o,"  "]}),Object($.jsxs)("div",{className:"editBtnContainer2",children:[Object($.jsx)(oe,{roleList:["vendedor"],children:Object($.jsx)(l.b,{to:"/vendedor/",children:Object($.jsx)("button",{className:"btnGeneral btnEdit",children:"  OK"})})}),Object($.jsx)(oe,{roleList:["administrador"],children:Object($.jsx)(l.b,{to:"/admin/",children:Object($.jsx)("button",{className:"btnGeneral btnEdit",children:"  OK"})})})]})]})})]})};function Ge(e){var t=e.value;return Object($.jsxs)("div",{children:[0==t&&Object($.jsx)($.Fragment,{children:Object($.jsx)(Ie,{})}),1==t&&Object($.jsx)($.Fragment,{children:Object($.jsx)(Te,{})})]})}var Ae=function(){var e=Object(c.useState)(0),t=Object(i.a)(e,2),n=t[0],a=t[1];return Object($.jsxs)($.Fragment,{children:[Object($.jsx)("div",{className:"titlepage",children:Object($.jsx)("span",{className:"title",children:" Ventas"})}),Object($.jsx)("div",{className:"tabscontainer",children:Object($.jsxs)(d.a,{value:n,onChange:function(e,t){a(t)},children:[Object($.jsx)(j.a,{label:"Agregar Venta"}),Object($.jsx)(j.a,{label:"Ver Lista de Ventas"})]})}),Object($.jsx)(Ge,{value:n,index:0,children:" "})]})},Be=function(){var e=Object(se.b)().loginWithRedirect;return Object($.jsxs)("div",{className:"divBtnGoLogin",children:[Object($.jsx)("div",{className:"information",children:Object($.jsx)("h1",{children:"PARSE MANOFACTURER"})}),Object($.jsx)("div",{className:"buttonGoLogin",children:Object($.jsx)("button",{className:"btnGeneral btnGoLogin",onClick:function(){return e()},children:"login"})})]})},Le=function(){var e=le().userData,t=(new Date).toLocaleDateString("es-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return Object($.jsxs)("div",{className:"MainSection",children:["Aprobado"==e.state&&Object($.jsxs)("div",{className:" greeting",children:["administrador"===e.role&&Object($.jsxs)($.Fragment,{children:[Object($.jsx)("div",{className:"titlepage",children:Object($.jsx)("span",{className:"title",children:"  Bienvenido, Administrador (a)"})}),Object($.jsx)("span",{children:t}),Object($.jsx)(l.b,{to:"/admin/ventas",children:Object($.jsx)("button",{className:"btnGeneral btnEdit mg-top",children:"  Crear Venta Nueva"})}),Object($.jsx)(l.b,{to:"/admin/productos",children:Object($.jsx)("button",{className:"btnGeneral btnEdit mg-top",children:"  Agregar Producto"})}),Object($.jsx)(l.b,{to:"/admin/usuarios",children:Object($.jsx)("button",{className:"btnGeneral btnEdit mg-top",children:"  Ver Usuarios"})})]}),"vendedor"===e.role&&Object($.jsxs)($.Fragment,{children:[Object($.jsx)("div",{className:"titlepage",children:Object($.jsx)("span",{className:"title",children:"  Bienvenido, Vendedor (a)"})}),Object($.jsx)("span",{children:t}),Object($.jsx)(l.b,{to:"/vendedor/ventas",children:Object($.jsx)("button",{className:"btnGeneral btnEdit mg-top",children:"  Crear Venta Nueva"})})," "]}),"no_asignado"===e.role&&Object($.jsxs)($.Fragment,{children:[Object($.jsx)("div",{className:"titlepage",children:Object($.jsx)("span",{className:"title",children:"  Bienvenido"})}),Object($.jsxs)("span",{children:[" A\xfan no tienes rol asignado. ",Object($.jsx)("br",{}),"Revisa m\xe1s tarde o vuelve a ingresar."]}),Object($.jsx)("span",{children:t})," "]})]}),"Pendiente"==e.state&&Object($.jsxs)($.Fragment,{children:[Object($.jsx)("div",{className:"notifMessage",children:Object($.jsxs)("span",{className:"stateNotifi",children:["Su usuario esta pendiente de activaci\xf3n.",Object($.jsx)("br",{}),"Revise o ingrese de nuevo m\xe1s tarde."]})}),"   ",Object($.jsx)("span",{className:"dateInfo",children:t})]}),"No aprobado"==e.state&&Object($.jsxs)($.Fragment,{children:[Object($.jsx)("div",{className:"notifMessage",children:Object($.jsxs)("span",{className:"stateNotifi",children:["Su usuario NO est\xe1 aprobado.",Object($.jsx)("br",{}),"Revise con el admin o ingrese de nuevo m\xe1s tarde."]})}),"   ",Object($.jsx)("span",{className:"dateInfo",children:t})]})]})},Re=function(e){var t=e.roleList,n=e.children,c=le().userData;(new Date).toLocaleDateString("es-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return t.includes(c.role)&&"Aprobado"==c.state?n:Object($.jsx)($.Fragment,{children:Object($.jsx)("div",{className:"notifMessage",children:Object($.jsxs)("span",{className:"stateNotifi",children:["Su usuario NO EST\xc1 AUTORIZADO ",Object($.jsx)("br",{}),"o est\xe1 PENDIENTE para ver esta secci\xf3n.",Object($.jsx)("br",{}),"Revise m\xe1s tarde."]})})})};var Pe=function(){var e=Object(c.useState)({}),t=Object(i.a)(e,2),n=t[0],a=t[1];return Object($.jsx)(se.a,{domain:"projectsvi.us.auth0.com",clientId:"naPrZmPJ9i6LpRCr3byABF1kb0VosL1j",redirectUri:"https://victoriaycode.github.io/frontend-manufacture/admin",audience:"api-manufacturer-projectvi",children:Object($.jsx)("div",{children:Object($.jsx)(ie.Provider,{value:{userData:n,setUserData:a},children:Object($.jsx)(l.a,{children:Object($.jsxs)(o.c,{children:[Object($.jsx)(o.a,{path:["/admin","/admin/productos","/admin/ventas","/admin/usuarios","/vendedor/ventas","/vendedor","/vendedor/ventas/verlistado"],children:Object($.jsx)(pe,{children:Object($.jsxs)(o.c,{children:[Object($.jsx)(o.a,{path:"/admin/productos",children:Object($.jsx)(Re,{roleList:["administrador"],children:Object($.jsx)(ee,{})})}),Object($.jsx)(o.a,{path:"/admin/ventas",children:Object($.jsx)(Re,{roleList:["administrador"],children:Object($.jsx)(Ae,{})})}),Object($.jsx)(o.a,{path:"/admin/usuarios",children:Object($.jsx)(Re,{roleList:["administrador"],children:Object($.jsx)(H,{})})}),Object($.jsx)(o.a,{path:"/vendedor/ventas/verlistado",children:Object($.jsx)(Re,{roleList:["vendedor"],children:Object($.jsx)(Te,{})})}),Object($.jsx)(o.a,{path:"/vendedor/ventas/",children:Object($.jsx)(Re,{roleList:["vendedor"],children:Object($.jsx)(Ae,{})})}),Object($.jsx)(o.a,{path:"/vendedor",children:Object($.jsx)(Le,{})}),Object($.jsx)(o.a,{path:"/admin",children:Object($.jsx)(Le,{})})]})})}),Object($.jsx)(o.a,{path:"/",children:Object($.jsx)(Be,{})})]})})})})})};s.a.render(Object($.jsx)(a.a.StrictMode,{children:Object($.jsx)(Pe,{})}),document.getElementById("root"))}},[[272,1,2]]]);
//# sourceMappingURL=main.e74d4a3c.chunk.js.map